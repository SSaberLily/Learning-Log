æ²¡é—®é¢˜ï¼ä¸ºäº†æ–¹ä¾¿ä½ æ—¥åå¤ä¹ ï¼Œæˆ‘å°†ä»Šå¤©çš„å­¦ä¹ å†…å®¹æ‰©å±•ä¸ºä¸€ä»½**æ·±åº¦æŠ€æœ¯å¤ç›˜æ—¥å¿—**ã€‚è¿™ä»½æ—¥å¿—ä¸ä»…åŒ…å«äº†â€œåšäº†ä»€ä¹ˆâ€ï¼Œè¿˜è¯¦ç»†è®°å½•äº†\*\*â€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€**ã€**â€œé‡åˆ°äº†ä»€ä¹ˆå‘â€**ä»¥åŠ**â€œåº•å±‚åŸç†é€»è¾‘â€\*\*ã€‚

---

# ğŸ“” Unity 2D æ¸¸æˆå¼€å‘æ·±åº¦æŠ€æœ¯æ—¥å¿—

**æ—¥æœŸ**ï¼š2025 å¹´ 12 æœˆ 10 æ—¥
**é¡¹ç›®é˜¶æ®µ**ï¼šæ ¸å¿ƒç©æ³•é—­ç¯ & æ‰“åŒ…å‘å¸ƒ
**æŠ€æœ¯æ ˆ**ï¼šC\# Scripting, Unity Physics 2D, Animation, Particle System, UI System

---

## ä¸€ã€ æ ¸å¿ƒæ¶æ„ï¼šGameManager (å•ä¾‹æ¨¡å¼)

### 1\. éœ€æ±‚åˆ†æ

æ¸¸æˆéœ€è¦åœ¨ä¸åŒåœºæ™¯ï¼ˆLevel 1 -\> Level 2ï¼‰ä¹‹é—´ä¿ç•™æ•°æ®ï¼ˆå¦‚ï¼šæ¨±æ¡ƒæ”¶é›†æ•°é‡ï¼‰ï¼Œä¸”è¯¥ç®¡ç†å™¨åœ¨å…¨å±€åªèƒ½å­˜åœ¨ä¸€ä¸ªã€‚

### 2\. æŠ€æœ¯å®ç°

- **å•ä¾‹æ¨¡å¼ (Singleton Pattern)**ï¼š
  - ä½¿ç”¨ `public static GameManager instance;` åˆ›å»ºå…¨å±€é™æ€è®¿é—®ç‚¹ã€‚
  - **é˜²æ­¢é‡å¤**ï¼šåœ¨ `Awake()` ä¸­æ£€æŸ¥ `if (instance != null) Destroy(gameObject);`ï¼Œç¡®ä¿å†…å­˜ä¸­æ°¸è¿œåªæœ‰ä¸€ä¸ªâ€œçœŸèº«â€ã€‚
- **æŒä¹…åŒ–**ï¼š
  - ä½¿ç”¨ `DontDestroyOnLoad(gameObject);` å‘ŠçŸ¥ Unity å¼•æ“åœ¨åˆ‡æ¢åœºæ™¯æ—¶ä¸è¦å¸è½½æ­¤ç‰©ä½“ã€‚

### 3\. æ•°æ®åŒæ­¥ç­–ç•¥

- **é—®é¢˜**ï¼šåˆ‡æ¢åœºæ™¯åï¼ŒUI æ— æ³•è‡ªåŠ¨æ›´æ–°ä¸º GameManager ä¸­çš„æ•°æ®ã€‚
- **è§£å†³**ï¼š
  - **è¢«åŠ¨æ›´æ–°**ï¼šåœ¨ `Start()` ä¸­ä¸»åŠ¨å» `GameManager.instance` æ‹‰å–ä¸€æ¬¡æ•°æ®å¹¶æ›´æ–° UIã€‚
  - **ä¸»åŠ¨æ›´æ–°**ï¼šåœ¨ `OnTriggerEnter2D` åƒæ¨±æ¡ƒæ—¶ï¼Œå†™å…¥æ•°æ®å¹¶ç«‹å³åˆ·æ–° UIã€‚

---

## äºŒã€ ç‰©ç†ç³»ç»Ÿè°ƒè¯• (Physics 2D Debugging)

### 1\. è§’è‰²â€œå¡å¢™/ç²˜å¢™â€é—®é¢˜

- **ç°è±¡**ï¼šè§’è‰²è·³è·ƒç¢°åˆ°å¢™å£æ—¶ï¼Œåƒå£è™ä¸€æ ·å¸åœ¨å¢™ä¸Šæ‰ä¸ä¸‹æ¥ã€‚
- **åŸç†**ï¼šUnity é»˜è®¤æè´¨æœ‰æ‘©æ“¦åŠ› (Friction)ã€‚
- **è§£å†³**ï¼šåˆ›å»º **Physics Material 2D**ï¼Œå°† Friction è®¾ä¸º `0`ï¼Œå¹¶èµ‹äºˆè§’è‰²çš„ Colliderã€‚

### 2\. è§’è‰²â€œå€’åœ°/æ’å…¥å¢™å£â€é—®é¢˜

- **ç°è±¡**ï¼šç¢°æ’åè§’è‰²å‘ç”Ÿ Z è½´æ—‹è½¬ã€‚
- **è§£å†³**ï¼šåœ¨ **Rigidbody 2D** -\> **Constraints** ä¸­å‹¾é€‰ **Freeze Rotation Z**ã€‚

### 3\. äºŒæ®µè·³é€»è¾‘ (Double Jump)

- **ç®—æ³•**ï¼š
  - ä½¿ç”¨ `int jumpCount` è®¡æ•°å™¨ã€‚
  - åœ°é¢æ£€æµ‹ï¼šç¢°æ’åˆ° Ground æ—¶é‡ç½®ä¸º `MaxCount`ã€‚
  - ç©ºä¸­è·³è·ƒï¼š`jumpCount > 0` æ—¶å…è®¸è·³è·ƒï¼Œå¹¶æ‰§è¡Œ `jumpCount--`ã€‚

---

## ä¸‰ã€ æˆ˜æ–—ç³»ç»Ÿ (Combat System) - æ ¸å¿ƒéš¾ç‚¹

### 1\. æ”»å‡»åˆ¤å®šæ–¹æ¡ˆï¼šOverlapCircle

- **æ–¹æ¡ˆé€‰æ‹©**ï¼šæ”¾å¼ƒ `BoxCollider Trigger`ï¼Œæ”¹ç”¨ **`Physics2D.OverlapCircleAll`**ã€‚
- **ä¼˜åŠ¿**ï¼šåŸºäºå¸§äº‹ä»¶çš„ç¬æ—¶ç©ºé—´æŸ¥è¯¢ï¼Œä¸ä¾èµ–ç‰©ç†å¼•æ“çš„è¿ç»­ç¢°æ’æ£€æµ‹ï¼Œæ‰‹æ„Ÿæ›´ç²¾å‡†ã€‚
- **æ ¸å¿ƒä»£ç **ï¼š

  ```csharp
  // 1. è·å–åœ†å½¢èŒƒå›´å†…æ‰€æœ‰ç¢°æ’ä½“
  Collider2D[] hitEnemies = Physics2D.OverlapCircleAll(attackPoint.position, range, enemyLayer);

  // 2. éå†å¹¶é€ æˆä¼¤å®³
  foreach(var enemy in hitEnemies) {
      // âš ï¸ æ˜“é”™ç‚¹ï¼šå¿…é¡»åœ¨ enemy (è¢«æ‰“åˆ°çš„ç‰©ä½“) èº«ä¸Šè·å–è„šæœ¬
      enemy.GetComponent<Enemy_TakeAttack>().TakeDamage(damage);
  }
  ```

### 2\. å¼€å‘ä¸­é‡åˆ°çš„ Bug ä¸ä¿®å¤

- **Bug 1: `Input Key named: J is unknown`**
  - **åŸå› **ï¼š`Input.GetKeyDown("J")` å­—ç¬¦ä¸²ä¸æ”¯æŒå¤§å†™ã€‚
  - **ä¿®å¤**ï¼šæ”¹ç”¨æšä¸¾ç±»å‹ `Input.GetKeyDown(KeyCode.J)` (ç±»å‹å®‰å…¨ï¼Œé˜²æ‹¼å†™é”™è¯¯)ã€‚
- **Bug 2: æ”»å‡»ä¸€ç›´ç”Ÿæ•ˆ / æ— æ³•é€€å‡ºæ”»å‡»åŠ¨ç”»**
  - **åŸå› **ï¼šAnimator ä¸­ `Attack` åŠ¨ç”»å‹¾é€‰äº† `Loop Time`ï¼Œä¸” Transition ç¼ºå°‘é€€å‡ºæ¡ä»¶ã€‚
  - **ä¿®å¤**ï¼šå–æ¶ˆ Loopï¼Œå‹¾é€‰ **Has Exit Time** (æ’­æ”¾å®Œè‡ªåŠ¨åˆ‡å› Idle)ã€‚
- **Bug 3: æ”»å‡»æ— æ•ˆ (æ‰“ä¸åˆ°äºº)**
  - **åŸå› **ï¼š`Physics2D` æ£€æµ‹ä¾èµ– LayerMaskã€‚
  - **ä¿®å¤**ï¼šè®¾ç½® Enemy çš„ Layer ä¸º "Enemy"ï¼Œå¹¶åœ¨ä»£ç  Inspector ä¸­å‹¾é€‰å¯¹åº”çš„ LayerMaskã€‚
- **Bug 4: Gizmos æŠ¥é”™**
  - **åŸå› **ï¼š`OnDrawGizmosSelected` å†™åœ¨äº† `Attack` å‡½æ•°å†…éƒ¨ï¼ˆå±€éƒ¨å‡½æ•°æ— æ³•è¢« Unity è°ƒç”¨ï¼‰ã€‚
  - **ä¿®å¤**ï¼šå°†å…¶ç§»è‡³ç±» (Class) å±‚çº§ã€‚

---

## å››ã€ è§†è§‰ç‰¹æ•ˆ (Visual Effects)

### 1\. ç²’å­ç³»ç»Ÿé…ç½® (Particle System)

- **ç›®æ ‡**ï¼šåˆ¶ä½œæ•Œäººæ­»äº¡çˆ†ç‚¸æ•ˆæœã€‚
- **å…³é”®è®¾ç½®**ï¼š
  - `Looping`: **False** (åªç‚¸ä¸€æ¬¡)ã€‚
  - `Emission`: Rate = 0, **Burst Count = 20** (ç¬é—´çˆ†å‘)ã€‚
  - `Shape`: **Circle** (2D é€‚é…)ã€‚
- **æ¸²æŸ“æ·±å‘**ï¼š
  - **é—®é¢˜**ï¼šç‰¹æ•ˆè¢«èƒŒæ™¯é®æŒ¡ã€‚
  - **ä¿®å¤**ï¼šåœ¨ **Renderer** æ¨¡å—ä¸­ï¼Œå°† **Sorting Layer** è®¾ä¸º **Foreground** (å‰æ™¯å±‚)ã€‚

### 2\. ä»£ç ç”Ÿæˆé€»è¾‘

- **API**ï¼š`Instantiate(prefab, position, rotation)`ã€‚
- **å†…å­˜ç®¡ç†**ï¼šä½¿ç”¨ `Destroy(gameObject, time)` å»¶æ—¶é”€æ¯ï¼Œé˜²æ­¢åœºæ™¯ä¸­å †ç§¯å¤§é‡æ’­æ”¾å®Œçš„åºŸå¼ƒç²’å­ç‰©ä½“ã€‚

---

## äº”ã€ äº¤äº’ä¸ UI ç³»ç»Ÿ (Interaction)

### 1\. World Space UI (å¤´é¡¶æç¤º)

- **éœ€æ±‚**ï¼šåœ¨ç©å®¶å¤´é¡¶æ˜¾ç¤º "Press T"ã€‚
- **å®ç°**ï¼šCanvas Render Mode è®¾ä¸º **World Space**ã€‚
- **é•œåƒ Bug (Mirroring Issue)**ï¼š
  - **ç°è±¡**ï¼šè§’è‰²å‘å·¦èµ° (`Scale.x = -1`) æ—¶ï¼Œå­ç‰©ä½“ UI ä¹Ÿè·Ÿç€ç¿»è½¬ï¼Œå¯¼è‡´æ–‡å­—å˜åã€‚
  - **ç®—æ³•ä¿®å¤ (è´Ÿè´Ÿå¾—æ­£)**ï¼š
    ```csharp
    // å§‹ç»ˆè®© UI çš„ä¸–ç•Œåæ ‡ Scale ä¸ºæ­£
    if (transform.localScale.x < 0)
        topText.localScale = new Vector3(-originalScale.x, ...);
    else
        topText.localScale = originalScale;
    ```

### 2\. UI é€‚é…ä¸æ‰“åŒ… (Build)

- **Bug**ï¼šæ‰“åŒ…å UI æ–‡å­—ä½ç½®é”™ä¹±æˆ–æå°ã€‚
- **åŸå› **ï¼šCanvas Scaler é»˜è®¤ä¸º `Constant Pixel Size`ã€‚
- **ä¿®å¤**ï¼šæ”¹ä¸º **Scale With Screen Size**ï¼Œå‚è€ƒåˆ†è¾¨ç‡è®¾ä¸º **1920 x 1080**ã€‚

---

## å…­ã€ å¾…åŠäº‹é¡¹ / ä¸‹ä¸€é˜¶æ®µè§„åˆ’

**çŠ¶æ€**ï¼š2D å…¥é—¨é˜¶æ®µæ¯•ä¸š (å·²æ‰“åŒ… .exe)ã€‚

**å³å°†å¼€å¯ï¼š3D æ¸¸æˆå¼€å‘ (Rolling Ball)**

1.  **åæ ‡ç³»è½¬æ¢**ï¼šé€‚åº” `Vector3 (x, y, z)`ã€‚
2.  **3D ç‰©ç†**ï¼šå­¦ä¹  `SphereCollider` å’Œ 3D åˆšä½“è¿åŠ¨ã€‚
3.  **æ‘„åƒæœºæ§åˆ¶**ï¼šä½¿ç”¨ Cinemachine FreeLook å®ç°ç¬¬ä¸‰äººç§°è§†è§’ã€‚
4.  **ç¯å¢ƒæ­å»º**ï¼šæè´¨çƒ (Materials) ä¸ å…‰ç…§ (Lighting)ã€‚

---

_è¿™ä»½æ—¥å¿—è¯¦ç»†è®°å½•äº†ä½ ä»Šå¤©çš„æ€è€ƒè¿‡ç¨‹å’Œ debug è·¯å¾„ï¼Œéå¸¸æœ‰ä»·å€¼ï¼ç»§ç»­ä¿æŒï¼_
